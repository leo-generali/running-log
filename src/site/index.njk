---
layout: layouts/base.njk
---

{% set activities = collections.activity | createActivities %}
{% set currentMonthYearBlock = null %}

<header class='my-12'>
  <h1 class='font-bold text-2xl'>Activities</h1>
</header>

{% for activity in activities %}
  {# Get the month and year of the current activity #}
  {% set activityMonthYearBlock = activity.date.format('MMMM Y') %}

  {% if activityMonthYearBlock != currentMonthYearBlock %}
    </ul>
    </section>

    {% if currentMonthYearBlock != null %}
      <hr class='bg-gray-300 h-px w-3/4 mx-auto my-12'>
    {% endif %}

    {% set currentMonthYearBlock = activityMonthYearBlock %}

    <section>
    <h2 id='{{ activityMonthYearBlock }}' class='font-bold text-lg'>{{ activityMonthYearBlock }}</h2>
    <aside class='bg-white rounded p-4 shadow mt-6'>
      <p class='font-bold uppercase tracking-wide text-sm'>Month Details:</p>
      <ul>
        <li>
          {{ activities | getDataFromGroup('MMMM Y', currentMonthYearBlock, 'distance') }} miles
        </li>
        <li>
          {{ activities | getDataFromGroup('MMMM Y', currentMonthYearBlock, 'time') | formatSeconds }}
        </li>
      </ul>
    </aside>
    
  
    <ul class='mt-6'>
  {% endif %}

  <li>
    <a class='underline text-blue-500 hover:text-blue-800 font-numeric-tabular' href="{{ activity.url }}">{{ activity.date.format('MMMM DD, YYYY') }}</a>
    <span class='font-numeric-tabular'>- {{ activity.distance.toFixed(2) }}</span>
    <span class='uppercase text-xs font-semibold'>mi</span> 
  </li>
  
{% endfor %}
