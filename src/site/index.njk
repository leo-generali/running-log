---
layout: layouts/base.njk
---

{% set activities = collections.activity | createActivities %}
{% set currentMonthYearBlock = null %}

{% for activity in activities %}
  {# Get the month and year of the current activity #}
  {% set activityMonthYearBlock = activity.date.format('MMMM Y') %}

  {% if activityMonthYearBlock != currentMonthYearBlock %}
    </ul>
    </section>

    {% set currentMonthYearBlock = activityMonthYearBlock %}

    <section>
    <h2 class='font-bold'>{{ activityMonthYearBlock }}</h2>
    <aside>
      <p>Month Details:</p>
      <ul>
        <li>
          {{ activities | getDataFromGroup('MMMM Y', currentMonthYearBlock, 'distance') }} miles
        </li>
        <li>
          {{ activities | getDataFromGroup('MMMM Y', currentMonthYearBlock, 'time') | formatSeconds }}
        </li>
      </ul>
    </aside>
    
  
    <ul>
  {% endif %}

  <li>
    <a class='underline text-blue-500 hover:text-blue-800 font-numeric-tabular' href="{{ activity.url }}">{{ activity.date.format('MMMM DD, YYYY') }}</a>
    <span class='font-numeric-tabular'>- {{ activity.distance.toFixed(2) }}</span>
    <span class='uppercase text-xs font-semibold'>mi</span> 
  </li>
  
{% endfor %}
